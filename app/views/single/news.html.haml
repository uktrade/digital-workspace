%div{:id => 'page', :class => 'page-content'}
  %main#content.root-index
    .grid-row
      - @posts.each do |p|
        .column-two-thirds
          .news-item
            %h2.heading-large
              = p["title"]["rendered"]
            .news-item-text
              .news-item-meta
                - profile = PeopleFinderProfile.from_api('alice@example.com')
                = succeed ', ' do
                  = profile.name || "Unknown"
                - date = DateTime.parse(p["date"])
                = date.strftime('%d %B %Y')
                = date.strftime('@ %I:%M')
            = large_image_tag(p)

        = p["content"]["rendered"].html_safe
        .column-two-thirds
          .pagination-b
            %hr{:class => 'rule-small'}
            .prev
              %a
                Prev page title
            .next
              %a
                Next page title
          -#= p
          #comments.comments-area
            .posted-comments
              %pre
                headers: #{@comments_headers}
              %pre
                x-wp-totalpages: #{@comments_headers["x-wp-totalpages"]}
              %pre
                x-wp-total: #{@comments_headers["x-wp-total"]}


              %h2.heading-medium
                #{@comments_headers["x-wp-total"]} Comments
              - @comments.each do |comment|
                = comment["content"]["rendered"].html_safe
                -#= comment
              .leave-comment
                %h2
                  Leave a comment
                %form{class: 'comment-post', id: 'comment_post'}
                  %textarea{class: 'text-area'}
                  %input{type: 'submit', value: 'Submit comment', class: 'button'}

